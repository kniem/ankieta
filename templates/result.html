<!-- extend base layout -->
{% extends "base.html" %}

{% block content %}

<div class="page-header">
    <h1>Wyniki</h1>
</div>

<div class="container-fluid">
    <div class="row"><h3>Odpowiedzi na kolejne pytania</h3>
        <div class="col-md-6"><div id="donut1_div" style="width: 500px; height: 300px;"></div></div>
        <div class="col-md-6"><div id="donut2_div" style="width: 500px; height: 300px;"></div></div>
    </div>
    <div class="row">
        <div class="col-md-6"><div id="donut3_div" style="width: 500px; height: 300px;"></div></div>
        <div class="col-md-6"><div id="donut4_div" style="width: 500px; height: 300px;"></div></div>
    </div>
    <div class="row">
        <div class="col-md-6"><div id="donut5_div" style="width: 500px; height: 300px;"></div></div>
        <div class="col-md-6"><div id="donut6_div" style="width: 500px; height: 300px;"></div></div>
    </div>
    <div class="row">
        <div class="col-md-6"><div id="donut7_div" style="width: 500px; height: 300px;"></div></div>
        <div class="col-md-6"><div id="donut8_div" style="width: 500px; height: 300px;"></div></div>
    </div>
    <div class="row">
        <div class="col-md-6"><div id="donut9_div" style="width: 500px; height: 300px;"></div></div>
        <div class="col-md-6"><div id="donut10_div" style="width: 500px; height: 300px;"></div></div>
    </div>
    <div class="row"><h3>Wynik testu w zależności od wieku</h3>
        <div id="bar_mean_div" style="width: 500px; height: 300px;"></div>
    </div>
</div>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
  google.charts.load("current", {packages:["corechart"]});
  google.charts.setOnLoadCallback(drawChart);
  function drawChart() {
    var data1 = new google.visualization.DataTable();
    data1.addColumn('string', 'Znajomość');
    data1.addColumn('number', 'Odpowiedzi');
    data1.addRows( {{ q1_data|tojson }} );
    var options1 = {
          title: 'Pytanie 1 - ASAP',
          pieHole: 0.4,
        };
    var chart1 = new google.visualization.PieChart(document.getElementById('donut1_div'));
        chart1.draw(data1, options1);

    var data2 = new google.visualization.DataTable();
    data2.addColumn('string', 'Znajomość');
    data2.addColumn('number', 'Odpowiedzi');
    data2.addRows( {{ q2_data|tojson }} );
    var options2 = {
          title: 'Pytanie 2 - TL;DR',
          pieHole: 0.4,
        };
    var chart2 = new google.visualization.PieChart(document.getElementById('donut2_div'));
        chart2.draw(data2, options2);

    var data3 = new google.visualization.DataTable();
    data3.addColumn('string', 'Znajomość');
    data3.addColumn('number', 'Odpowiedzi');
    data3.addRows( {{ q3_data|tojson }} );
    var options3 = {
          title: 'Pytanie 3 - DM me',
          pieHole: 0.4,
        };
    var chart3 = new google.visualization.PieChart(document.getElementById('donut3_div'));
        chart3.draw(data3, options3);

    var data4 = new google.visualization.DataTable();
    data4.addColumn('string', 'Znajomość');
    data4.addColumn('number', 'Odpowiedzi');
    data4.addRows( {{ q4_data|tojson }} );
    var options4 = {
          title: 'Pytanie 4 - IDK',
          pieHole: 0.4,
        };
    var chart4 = new google.visualization.PieChart(document.getElementById('donut4_div'));
        chart4.draw(data4, options4);

    var data5 = new google.visualization.DataTable();
    data5.addColumn('string', 'Znajomość');
    data5.addColumn('number', 'Odpowiedzi');
    data5.addRows( {{ q5_data|tojson }} );
    var options5 = {
          title: 'Pytanie 5 - ELI5',
          pieHole: 0.4,
        };
    var chart5 = new google.visualization.PieChart(document.getElementById('donut5_div'));
        chart5.draw(data5, options5);

    var data6 = new google.visualization.DataTable();
    data6.addColumn('string', 'Znajomość');
    data6.addColumn('number', 'Odpowiedzi');
    data6.addRows( {{ q6_data|tojson }} );
    var options6 = {
          title: 'Pytanie 6 - NMZC',
          pieHole: 0.4,
        };
    var chart6 = new google.visualization.PieChart(document.getElementById('donut6_div'));
        chart6.draw(data6, options6);

    var data7 = new google.visualization.DataTable();
    data7.addColumn('string', 'Znajomość');
    data7.addColumn('number', 'Odpowiedzi');
    data7.addRows( {{ q7_data|tojson }} );
    var options7 = {
          title: 'Pytanie 7 - JBC',
          pieHole: 0.4,
        };
    var chart7 = new google.visualization.PieChart(document.getElementById('donut7_div'));
        chart7.draw(data7, options7);

    var data8 = new google.visualization.DataTable();
    data8.addColumn('string', 'Znajomość');
    data8.addColumn('number', 'Odpowiedzi');
    data8.addRows( {{ q8_data|tojson }} );
    var options8 = {
          title: 'Pytanie 8 - JJ',
          pieHole: 0.4,
        };
    var chart8 = new google.visualization.PieChart(document.getElementById('donut8_div'));
        chart8.draw(data8, options8);

    var data9 = new google.visualization.DataTable();
    data9.addColumn('string', 'Znajomość');
    data9.addColumn('number', 'Odpowiedzi');
    data9.addRows( {{ q9_data|tojson }} );
    var options9 = {
          title: 'Pytanie 9 - OCB',
          pieHole: 0.4,
        };
    var chart9 = new google.visualization.PieChart(document.getElementById('donut9_div'));
        chart9.draw(data9, options9);

    var data10 = new google.visualization.DataTable();
    data10.addColumn('string', 'Znajomość');
    data10.addColumn('number', 'Odpowiedzi');
    data10.addRows( {{ q10_data|tojson }} );
    var options10 = {
          title: 'Pytanie 10 - ZW',
          pieHole: 0.4,
        };
    var chart10 = new google.visualization.PieChart(document.getElementById('donut10_div'));
        chart10.draw(data10, options10);

    var databar = new google.visualization.DataTable();
    databar.addColumn('string', 'Grupy wiekowe');
    databar.addColumn('number', 'Średni wynik');
    databar.addRows( {{ mean_data|tojson }} );

    var optionsbar = {
          title: 'Wyniki w poszczególnych grupach wiekowych',
          bar: {groupWidth: "95%"},
        };

    var viewbar = new google.visualization.DataView(databar);
    viewbar.setColumns([0, 1,
                       { calc: "stringify",
                         sourceColumn: 1,
                         type: "string",
                         role: "annotation" },
                       2]);

    var chartbar = new google.visualization.BarChart(document.getElementById("bar_mean_div"));
      chartbar.draw(viewbar, optionsbar);
  }




</script>

{% endblock %}
